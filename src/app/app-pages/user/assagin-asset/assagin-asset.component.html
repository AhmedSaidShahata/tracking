<div class="page-title">
  <div class="row">
    <div class="col-sm-6">
      <h4 class="mb-0"> {{ 'attach_assets' | translate }}
      </h4>
    </div>
    <div class="col-sm-6">
      <ol class="breadcrumb pt-0 float-left float-sm-right ">
        <li class="breadcrumb-item"><a href="javascript:void(0);" class="default-color">{{ 'assets' | translate }}</a></li>
        <li class="breadcrumb-item active">{{ 'attach_assets' | translate }} </li>
      </ol>
    </div>
  </div>
</div>
<!-- main body -->
<div class="row">
  <div class="col-xl-12 mb-30">
    <div class="card card-statistics h-100">
      <div class="card-body">


        <form novalidate #addasset="ngForm" (ngSubmit)="AssginAssets(addasset)">


        <div class="form-row">

          <div class="form-group col-md-6">
            <label> {{ 'emps_departments' | translate }} </label>
            <select required name="emps_departments" class="form-control"
                    [(ngModel)]="selectedDep" (change)="getAllEmps($event)">
              <option value="">{{ 'select' | translate }} </option>
              <option *ngFor="let obj of deplist" [value]="obj.Id">{{obj | translate }}</option>
            </select>






            <div class="validation-error "
                 *ngIf=" submitForm && addasset.controls['emps_departments'].errors?.required">
              {{ 'required' | translate }}
            </div>
          </div>



          <div class="form-group col-md-6">
            <label> {{ 'chooseemp' | translate }} </label>





            <ng-select required name="chooseemp"
                       (search)="getAllEmps($event)"
               placeholder="{{ 'select' | translate }}"

              [(ngModel)]="selectedEmp">
              <ng-option  (search)="getAllEmps($event)" *ngFor="let obj of emplist" [value]="obj.Id">{{obj | translate }}  - {{obj.Email }}</ng-option>

            </ng-select>




            <div class="validation-error"
                 *ngIf=" submitForm && addasset.controls['chooseemp'].errors?.required">
              {{ 'required' | translate }}
            </div>
          </div>



          <div class="form-group col-md-6">
            <label>{{ 'NoteText' | translate }}</label>
            <input  name="NoteText" type="text" class="form-control" [(ngModel)]="NoteText"
                   placeholder="{{ 'NoteText' | translate }}">


            <div class="validation-error "
                 *ngIf=" submitForm && addasset.controls['NoteText'].errors?.required">
              {{ 'required' | translate }}
            </div>

          </div>


          <div class="form-group col-md-6" >
            <label> {{ 'return_date' | translate }} </label>
            <div class="input-group">
              <input [(ngModel)]="returnDate" class="form-control" placeholder="yyyy-mm-dd"
                     name="returnDate" ngbDatepicker #d="ngbDatepicker">
              <div class="input-group-append">
                <button class="btn btn-secondary" (click)="d.toggle()" type="button">
                  <i class="fa fa-calendar"></i>
                </button>
              </div>
            </div>

            <div class="validation-error "
                 *ngIf=" submitForm && addasset.controls['hireDate'].errors?.required">
              {{ 'required' | translate }}

            </div>
          </div>



          <div class="form-group col-md-6">

          </div>



        </div>

        <div class="row">
          <!--<button type="button" class="btn btn-success btn-lg col-md-2" style="margin: 10px">أضافة</button>-->

          <button type="submit"
                  class="btn btn-primary  btn-lg  col-md-2"
                  style="margin: 10px">{{ 'attach_assets' | translate }}</button>


          <button type="button" (click)="ClearAll()" class="btn btn-danger btn-lg col-md-2" style="margin: 10px">{{ 'clear' | translate }}</button>


        </div>
        </form>
      </div>
    </div>
  </div>
</div>





<div class="row">
  <div class="col-xl-12 mb-30">
    <div class="card card-statistics h-100">
      <div class="card-body">
        <h5 class="card-title mb-0">{{ 'assets_list' | translate }}</h5>



        <div class="table-responsive">
          <table class="table table-1 table-bordered table-striped mb-0">
            <thead>
            <tr  >

              <th>{{ 'serial_number' | translate }}</th>
              <th>{{ 'main_department' | translate }}</th>
              <th>{{ 'category' | translate }}</th>
              <th>{{ 'model' | translate }}</th>
              <th>{{ 'status' | translate }}</th>
              <th>{{ 'location' | translate }}</th>
              <th>{{ 'building' | translate }}</th>
              <th>{{ 'floor' | translate }}</th>
              <th>{{ 'offices_select' | translate }}</th>
              <th>{{ 'delete' | translate }}</th>

            </tr>
            </thead>
            <tbody>

            <tr   *ngFor="let item of assets;let i = index">





              <td>{{item.SerialNumber}}</td>


              <td>{{item.main_category | translate}}</td>
              <td>{{item.category | translate}}</td>
              <td>{{item.model | translate}}</td>

              <td>{{item.status | translate}}</td>



              <td>{{item.location | translate}}</td>
              <td>{{item.tower | translate}}</td>
              <td>{{item.floor | translate}}</td>
              <td>{{item.room | translate}}</td>
              <td >

                <i (click)="deleteAsset(item,i)" class="text-primary ti-trash "></i>
              </td>




            </tr>

            </tbody>
          </table>

        </div>





      </div>
    </div>
  </div>




</div>





